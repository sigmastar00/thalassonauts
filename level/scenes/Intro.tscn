[gd_scene load_steps=9 format=2]

[ext_resource path="res://level/level_tiles.tres" type="TileSet" id=1]
[ext_resource path="res://ui/FollowCamera.gd" type="Script" id=2]
[ext_resource path="res://object/OxygenFiller.tscn" type="PackedScene" id=3]
[ext_resource path="res://object/Player.tscn" type="PackedScene" id=4]
[ext_resource path="res://level/LevelManager.gd" type="Script" id=5]
[ext_resource path="res://level/hazard_tileset.tres" type="TileSet" id=6]
[ext_resource path="res://ui/ui_theme.tres" type="Theme" id=7]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 64, 10 )

[node name="Intro" type="Node2D"]
script = ExtResource( 5 )
__meta__ = {
"_edit_lock_": true
}
respawn_point = NodePath("RespawnPoint")

[node name="OxygenFiller" parent="." instance=ExtResource( 3 )]
position = Vector2( 384, 128 )

[node name="Player" parent="." instance=ExtResource( 4 )]
position = Vector2( 26, 144 )

[node name="GeometryTiles" type="TileMap" parent="."]
tile_set = ExtResource( 1 )
cell_size = Vector2( 16, 16 )
collision_layer = 2
collision_mask = 0
format = 1
tile_data = PoolIntArray( -262146, 0, 1, -262145, 0, 2, -327680, 0, 2, -327679, 0, 2, -327678, 0, 2, -327677, 0, 2, -327676, 0, 2, -327675, 0, 2, -327674, 0, 2, -327673, 0, 2, -327672, 0, 2, -327671, 0, 2, -327670, 0, 2, -327669, 0, 2, -327668, 0, 2, -327667, 0, 2, -327666, 0, 2, -327665, 0, 2, -327664, 0, 2, -327663, 0, 2, -327662, 0, 2, -327661, 0, 2, -327660, 0, 2, -327659, 0, 2, -327658, 0, 2, -327657, 0, 2, -327656, 0, 2, -327655, 0, 2, -327654, 0, 2, -327653, 0, 2, -327652, 0, 2, -327651, 0, 2, -327650, 0, 2, -327649, 0, 2, -327648, 0, 2, -327647, 0, 2, -327646, 0, 2, -327645, 0, 2, -327644, 0, 2, -327643, 0, 2, -327642, 0, 2, -327641, 0, 2, -327640, 0, 2, -327639, 0, 2, -327638, 0, 2, -327637, 0, 2, -327636, 0, 2, -327635, 0, 2, -327634, 0, 2, -327633, 0, 2, -327632, 0, 2, -327631, 0, 2, -327630, 0, 2, -327629, 0, 2, -327628, 0, 2, -327627, 0, 2, -327626, 0, 2, -327625, 0, 2, -327624, 0, 2, -327623, 0, 2, -327622, 0, 3, -196610, 0, 65537, -196609, 0, 65538, -262144, 0, 65538, -262143, 0, 65538, -262142, 0, 65538, -262141, 0, 65538, -262140, 0, 65538, -262139, 0, 65538, -262138, 0, 65538, -262137, 0, 65538, -262136, 0, 65538, -262135, 0, 65538, -262134, 0, 65538, -262133, 0, 65538, -262132, 0, 65538, -262131, 0, 65538, -262130, 0, 65538, -262129, 0, 65538, -262128, 0, 65538, -262127, 0, 65538, -262126, 0, 65538, -262125, 0, 65538, -262124, 0, 65538, -262123, 0, 65538, -262122, 0, 65538, -262121, 0, 65538, -262120, 0, 65538, -262119, 0, 65538, -262118, 0, 65538, -262117, 0, 65538, -262116, 0, 65538, -262115, 0, 65538, -262114, 0, 65538, -262113, 0, 65538, -262112, 0, 65538, -262111, 0, 65538, -262110, 0, 65538, -262109, 0, 65538, -262108, 0, 65538, -262107, 0, 65538, -262106, 0, 65538, -262105, 0, 65538, -262104, 0, 65538, -262103, 0, 65538, -262102, 0, 65538, -262101, 0, 65538, -262100, 0, 65538, -262099, 0, 65538, -262098, 0, 65538, -262097, 0, 65538, -262096, 0, 65538, -262095, 0, 65538, -262094, 0, 65538, -262093, 0, 65538, -262092, 0, 65538, -262091, 0, 65538, -262090, 0, 65538, -262089, 0, 65538, -262088, 0, 65538, -262087, 0, 65538, -262086, 0, 65539, -131074, 0, 65537, -131073, 0, 65539, -196552, 0, 65537, -196551, 0, 65538, -196550, 0, 65539, -65538, 0, 65537, -65537, 0, 65539, -131016, 0, 65537, -131015, 0, 65538, -131014, 0, 65539, -2, 0, 65537, -1, 0, 65539, -65480, 0, 65537, -65479, 0, 65538, -65478, 0, 65539, 65534, 0, 65537, 65535, 0, 65539, 56, 0, 65537, 57, 0, 65538, 58, 0, 65539, 131070, 0, 65537, 131071, 0, 65539, 65592, 0, 65537, 65593, 0, 65538, 65594, 0, 65539, 196606, 0, 65537, 196607, 0, 65539, 131115, 0, 1, 131116, 0, 2, 131117, 0, 2, 131118, 0, 2, 131119, 0, 2, 131120, 0, 2, 131121, 0, 2, 131122, 0, 3, 131128, 0, 65537, 131129, 0, 65538, 131130, 0, 65539, 262142, 0, 65537, 262143, 0, 65539, 196651, 0, 65537, 196652, 0, 65538, 196653, 0, 65538, 196654, 0, 65538, 196655, 0, 65538, 196656, 0, 65538, 196657, 0, 65538, 196658, 0, 65539, 196664, 0, 65537, 196665, 0, 65538, 196666, 0, 65539, 327678, 0, 65537, 327679, 0, 65539, 262187, 0, 65537, 262188, 0, 65538, 262189, 0, 65538, 262190, 0, 65538, 262191, 0, 65538, 262192, 0, 65538, 262193, 0, 65538, 262194, 0, 65539, 262200, 0, 65537, 262201, 0, 65538, 262202, 0, 65539, 393214, 0, 65537, 393215, 0, 65539, 327723, 0, 65537, 327724, 0, 65538, 327725, 0, 65538, 327726, 0, 65538, 327727, 0, 65538, 327728, 0, 65538, 327729, 0, 65538, 327730, 0, 65539, 327736, 0, 65537, 327737, 0, 65538, 327738, 0, 65539, 458750, 0, 65537, 458751, 0, 65539, 393259, 0, 65537, 393260, 0, 65538, 393261, 0, 65538, 393262, 0, 65538, 393263, 0, 65538, 393264, 0, 65538, 393265, 0, 65538, 393266, 0, 65539, 393272, 0, 65537, 393273, 0, 65538, 393274, 0, 65539, 524286, 0, 65537, 524287, 0, 65539, 458795, 0, 65537, 458796, 0, 65538, 458797, 0, 65538, 458798, 0, 65538, 458799, 0, 65538, 458800, 0, 65538, 458801, 0, 65538, 458802, 0, 65539, 458808, 0, 65537, 458809, 0, 65538, 458810, 0, 65539, 589822, 0, 65537, 589823, 0, 65539, 524303, 0, 1, 524304, 0, 2, 524305, 0, 2, 524306, 0, 2, 524307, 0, 2, 524308, 0, 2, 524309, 0, 2, 524310, 0, 2, 524311, 0, 2, 524312, 0, 2, 524313, 0, 2, 524314, 0, 2, 524315, 0, 2, 524316, 0, 2, 524317, 0, 2, 524318, 0, 2, 524319, 0, 2, 524320, 0, 2, 524321, 0, 2, 524322, 0, 2, 524323, 0, 2, 524324, 0, 2, 524325, 0, 2, 524326, 0, 2, 524327, 0, 2, 524328, 0, 2, 524329, 0, 2, 524330, 0, 2, 524331, 0, 65538, 524332, 0, 65538, 524333, 0, 65538, 524334, 0, 65538, 524335, 0, 65538, 524336, 0, 65538, 524337, 0, 65538, 524338, 0, 65539, 524344, 0, 65537, 524345, 0, 65538, 524346, 0, 65539, 655358, 0, 65537, 655359, 0, 65538, 589824, 0, 2, 589825, 0, 2, 589826, 0, 2, 589827, 0, 2, 589828, 0, 2, 589829, 0, 2, 589830, 0, 2, 589831, 0, 2, 589832, 0, 2, 589833, 0, 2, 589834, 0, 2, 589835, 0, 2, 589836, 0, 2, 589837, 0, 2, 589838, 0, 2, 589839, 0, 65538, 589840, 0, 65538, 589841, 0, 65538, 589842, 0, 65538, 589843, 0, 65538, 589844, 0, 65538, 589845, 0, 65538, 589846, 0, 65538, 589847, 0, 65538, 589848, 0, 65538, 589849, 0, 65538, 589850, 0, 65538, 589851, 0, 65538, 589852, 0, 65538, 589853, 0, 65538, 589854, 0, 65538, 589855, 0, 65538, 589856, 0, 65538, 589857, 0, 65538, 589858, 0, 65538, 589859, 0, 65538, 589860, 0, 65538, 589861, 0, 65538, 589862, 0, 65538, 589863, 0, 65538, 589864, 0, 65538, 589865, 0, 65538, 589866, 0, 65538, 589867, 0, 65538, 589868, 0, 65538, 589869, 0, 65538, 589870, 0, 65538, 589871, 0, 65538, 589872, 0, 65538, 589873, 0, 65538, 589874, 0, 65539, 589880, 0, 65537, 589881, 0, 65538, 589882, 0, 65539, 720894, 0, 65537, 720895, 0, 65538, 655360, 0, 65538, 655361, 0, 65538, 655362, 0, 65538, 655363, 0, 65538, 655364, 0, 65538, 655365, 0, 65538, 655366, 0, 65538, 655367, 0, 65538, 655368, 0, 65538, 655369, 0, 65538, 655370, 0, 65538, 655371, 0, 65538, 655372, 0, 65538, 655373, 0, 65538, 655374, 0, 65538, 655375, 0, 65538, 655376, 0, 65538, 655377, 0, 65538, 655378, 0, 65538, 655379, 0, 65538, 655380, 0, 65538, 655381, 0, 65538, 655382, 0, 65538, 655383, 0, 65538, 655384, 0, 65538, 655385, 0, 65538, 655386, 0, 65538, 655387, 0, 65538, 655388, 0, 65538, 655389, 0, 65538, 655390, 0, 65538, 655391, 0, 65538, 655392, 0, 65538, 655393, 0, 65538, 655394, 0, 65538, 655395, 0, 65538, 655396, 0, 65538, 655397, 0, 65538, 655398, 0, 65538, 655399, 0, 65538, 655400, 0, 65538, 655401, 0, 65538, 655402, 0, 65538, 655403, 0, 65538, 655404, 0, 65538, 655405, 0, 65538, 655406, 0, 65538, 655407, 0, 65538, 655408, 0, 65538, 655409, 0, 65538, 655410, 0, 65539, 655416, 0, 65537, 655417, 0, 65538, 655418, 0, 65539, 786430, 0, 65537, 786431, 0, 65538, 720896, 0, 65538, 720897, 0, 65538, 720898, 0, 65538, 720899, 0, 65538, 720900, 0, 65538, 720901, 0, 65538, 720902, 0, 65538, 720903, 0, 65538, 720904, 0, 65538, 720905, 0, 65538, 720906, 0, 65538, 720907, 0, 65538, 720908, 0, 65538, 720909, 0, 65538, 720910, 0, 65538, 720911, 0, 65538, 720912, 0, 65538, 720913, 0, 65538, 720914, 0, 65538, 720915, 0, 65538, 720916, 0, 65538, 720917, 0, 65538, 720918, 0, 65538, 720919, 0, 65538, 720920, 0, 65538, 720921, 0, 65538, 720922, 0, 65538, 720923, 0, 65538, 720924, 0, 65538, 720925, 0, 65538, 720926, 0, 65538, 720927, 0, 65538, 720928, 0, 65538, 720929, 0, 65538, 720930, 0, 65538, 720931, 0, 65538, 720932, 0, 65538, 720933, 0, 65538, 720934, 0, 65538, 720935, 0, 65538, 720936, 0, 65538, 720937, 0, 65538, 720938, 0, 65538, 720939, 0, 65538, 720940, 0, 65538, 720941, 0, 65538, 720942, 0, 65538, 720943, 0, 65538, 720944, 0, 65538, 720945, 0, 65538, 720946, 0, 65539, 720952, 0, 65537, 720953, 0, 65538, 720954, 0, 65539 )

[node name="HazardTiles" type="TileMap" parent="."]
tile_set = ExtResource( 6 )
cell_size = Vector2( 16, 16 )
collision_layer = 8
collision_mask = 0
format = 1
tile_data = PoolIntArray( 458790, 0, 0, 458791, 0, 0, 458792, 0, 0, 458793, 0, 0, 458794, 0, 0, 524302, -1073741824, 0 )

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 144, 96 )
current = true
limit_left = -16
limit_top = -64
limit_right = 928
limit_bottom = 192
limit_smoothed = true
drag_margin_h_enabled = true
drag_margin_v_enabled = true
smoothing_enabled = true
editor_draw_limits = true
editor_draw_drag_margin = true
script = ExtResource( 2 )
target = NodePath("../Player")

[node name="RespawnPoint" type="Position2D" parent="."]
position = Vector2( 26, 144 )

[node name="Transition" type="Area2D" parent="."]
collision_layer = 0
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Transition"]
position = Vector2( 856, 200 )
shape = SubResource( 1 )

[node name="TutorialPrompts" type="Control" parent="."]
show_behind_parent = true
margin_right = 40.0
margin_bottom = 40.0
theme = ExtResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MovePrompt" type="RichTextLabel" parent="TutorialPrompts"]
margin_left = 24.0
margin_top = 64.0
margin_right = 112.0
margin_bottom = 104.0
text = "D: Move Right
A: Move Left"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="JumpPrompt" type="RichTextLabel" parent="TutorialPrompts"]
margin_left = 200.0
margin_top = 64.0
margin_right = 304.0
margin_bottom = 104.0
bbcode_enabled = true
bbcode_text = "Space/[font=res://ui/image_offset_font.tres][img=11]res://addons/GGS/assets/glyph/gamepad/a.png[/img][/font]: Jump
"
text = "Space/: Jump
"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MachinePrompt" type="RichTextLabel" parent="TutorialPrompts"]
margin_left = 336.0
margin_top = 24.0
margin_right = 448.0
margin_bottom = 72.0
text = "These machines will refill your oxygen"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="BoostPrompt" type="RichTextLabel" parent="TutorialPrompts"]
margin_left = 536.0
margin_top = 24.0
margin_right = 664.0
margin_bottom = 72.0
text = "Hold jump to boost. 
Boosting will consume oxygen"

[node name="RichTextLabel" type="RichTextLabel" parent="TutorialPrompts"]
margin_left = 816.0
margin_top = 40.0
margin_right = 896.0
margin_bottom = 120.0
bbcode_enabled = true
bbcode_text = "[center]Get as deep as you can
v
[/center]"
text = "Get as deep as you can
v
"
__meta__ = {
"_edit_use_anchors_": false
}

[connection signal="death" from="Player" to="." method="_on_Player_death"]
[connection signal="body_entered" from="Transition" to="." method="_on_Transition_body_entered"]
